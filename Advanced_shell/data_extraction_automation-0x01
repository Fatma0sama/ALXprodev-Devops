#!/bin/bash

DATA_FILE="data.json"

# Check if the data file exists
if [ ! -f "${DATA_FILE}" ]; then
    echo "Error: ${DATA_FILE} not found. Please run Task 0 first."
    exit 1
fi

# Use jq to extract the raw values. 
# jq output will be newline-separated: name, height/10, weight/10, type
read -r name formatted_height formatted_weight type <<< "$(jq -r '
    .name, 
    (.height / 10), 
    (.weight / 10), 
    .types[0].type.name' "${DATA_FILE}")"

# Capitalize the first letter of the name (since API names are lowercase)
# and the type name to match the human-readable format.
name=$(echo "${name}" | sed -E 's/(.)/\U\1/')
type=$(echo "${type}" | sed -E 's/(.)/\U\1/')

# Use the variables to construct the exact required output string.
echo "${name} is of type ${type}, weighs ${formatted_weight}kg, and is ${formatted_height}m tall."
