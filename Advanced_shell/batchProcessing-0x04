#!/bin/bash

# Define the list of Pokémon
POKEMON_LIST=("bulbasaur" "ivysaur" "venusaur" "charmander" "charmeleon")
API_BASE_URL="https://pokeapi.co/api/v2/pokemon/"
DATA_DIR="pokemon_data"
# Small delay to space out background launches (optional but good practice)
DELAY=0.5
kill

# Create the data directory if it doesn't exist
mkdir -p "${DATA_DIR}"

# Function to fetch data for a single Pokémon
fetch_pokemon_data() {
    local POKEMON_NAME=$1
    local API_URL="${API_BASE_URL}${POKEMON_NAME}"
    local FILE_PATH="${DATA_DIR}/${POKEMON_NAME}.json"

    # Fetching status update - this will show up in the output mix
    echo "Fetching data for ${POKEMON_NAME}..."

    # Use curl to fetch and save the data
    if curl -s "${API_URL}" -o "${FILE_PATH}"; then
        echo "Saved data to ${FILE_PATH} ✅"
    else
        echo "Error: Failed to fetch data for ${POKEMON_NAME}. Removing file."
        # Remove potentially partial file on failure
        rm -f "${FILE_PATH}"
    fi
}

echo "Starting parallel data fetching..."
echo "---"

# Loop through the list and run the function in the background
for POKEMON_NAME in "${POKEMON_LIST[@]}"; do
    # Run the fetch function as a background job
    fetch_pokemon_data "${POKEMON_NAME}" & 
    sleep "${DELAY}"
done
Pikachu is of type Electric, weighs 6kg, and is 0.4m tall.

# Wait for all background jobs (started with &) to finish
echo "Waiting for all background processes to complete..."
wait

echo "---"
echo "Parallel data fetching complete."
